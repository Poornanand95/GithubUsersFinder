{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Poornanand Verma/Desktop/GithubFinder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Poornanand Verma/Desktop/GithubFinder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Poornanand Verma/Desktop/GithubFinder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import GithubContext from'./githubContext';import GithubReducer from'./githubReducer';import{SEARCH_USERS,SET_LOADING,CLEAR_USERS,GET_USER,GET_REPOS}from'../types';import{jsx as _jsx}from\"react/jsx-runtime\";var GithubState=function GithubState(props){var initialState={users:[],user:{},repos:[],loading:false};var _useReducer=useReducer(GithubReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Seacrh Users\nvar searchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(text){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading();_context.next=3;return axios.get(\"http://api.github.com/search/users?q=\".concat(text,\"&client_id=\").concat(process.env.REACT_APP_GITHUB_CLIENT_ID,\"&client_secret=\").concat(process.env.REACT_APP_GITHUB_CLIENT_SECRET));case 3:res=_context.sent;dispatch({type:SEARCH_USERS,payload:res.data.items});case 5:case\"end\":return _context.stop();}}},_callee);}));return function searchUsers(_x){return _ref.apply(this,arguments);};}();// Get User\nvar getUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(username){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading();_context2.next=3;return axios.get(\"http://api.github.com/users/\".concat(username,\"?client_id=\").concat(process.env.REACT_APP_GITHUB_CLIENT_ID,\"&client_secret=\").concat(process.env.REACT_APP_GITHUB_CLIENT_SECRET));case 3:res=_context2.sent;dispatch({type:GET_USER,payload:res.data});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getUser(_x2){return _ref2.apply(this,arguments);};}();// Get Repos\nvar getUserRepos=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(username){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoading();_context3.next=3;return axios.get(\"http://api.github.com/users/\".concat(username,\"/repos?per_page=5&sort=created:asc&client_id=\").concat(process.env.REACT_APP_GITHUB_CLIENT_ID,\"&client_secret=\").concat(process.env.REACT_APP_GITHUB_CLIENT_SECRET));case 3:res=_context3.sent;dispatch({type:GET_REPOS,payload:res.data});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function getUserRepos(_x3){return _ref3.apply(this,arguments);};}();// Clear Users\nvar clearUsers=function clearUsers(){return dispatch({type:CLEAR_USERS});};// Set Loading\nvar setLoading=function setLoading(){return dispatch({type:SET_LOADING});};return/*#__PURE__*/_jsx(GithubContext.Provider,{value:{users:state.users,user:state.user,repos:state.repos,loading:state.loading,searchUsers:searchUsers,clearUsers:clearUsers,getUser:getUser,getUserRepos:getUserRepos},children:props.children});};export default GithubState;","map":{"version":3,"sources":["C:/Users/Poornanand Verma/Desktop/GithubFinder/src/context/github/GithubState.js"],"names":["React","useReducer","axios","GithubContext","GithubReducer","SEARCH_USERS","SET_LOADING","CLEAR_USERS","GET_USER","GET_REPOS","GithubState","props","initialState","users","user","repos","loading","state","dispatch","searchUsers","text","setLoading","get","process","env","REACT_APP_GITHUB_CLIENT_ID","REACT_APP_GITHUB_CLIENT_SECRET","res","type","payload","data","items","getUser","username","getUserRepos","clearUsers","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport GithubContext from './githubContext';\r\nimport GithubReducer from './githubReducer';\r\nimport {\r\n  SEARCH_USERS,\r\n  SET_LOADING,\r\n  CLEAR_USERS,\r\n  GET_USER,\r\n  GET_REPOS,\r\n} from '../types';\r\n\r\nconst GithubState = (props) => {\r\n  const initialState = {\r\n    users: [],\r\n    user: {},\r\n    repos: [],\r\n    loading: false,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(GithubReducer, initialState);\r\n\r\n  // Seacrh Users\r\n  const searchUsers = async (text) => {\r\n    setLoading();\r\n\r\n    const res = await axios.get(\r\n      `http://api.github.com/search/users?q=${text}&client_id=${process.env.REACT_APP_GITHUB_CLIENT_ID}&client_secret=${process.env.REACT_APP_GITHUB_CLIENT_SECRET}`\r\n    );\r\n    dispatch({\r\n      type: SEARCH_USERS,\r\n      payload: res.data.items,\r\n    });\r\n  };\r\n\r\n  // Get User\r\n  const getUser = async (username) => {\r\n    setLoading();\r\n\r\n    const res = await axios.get(\r\n      `http://api.github.com/users/${username}?client_id=${process.env.REACT_APP_GITHUB_CLIENT_ID}&client_secret=${process.env.REACT_APP_GITHUB_CLIENT_SECRET}`\r\n    );\r\n\r\n    dispatch({\r\n      type: GET_USER,\r\n      payload: res.data,\r\n    });\r\n  };\r\n\r\n  // Get Repos\r\n  const getUserRepos = async (username) => {\r\n    setLoading();\r\n\r\n    const res = await axios.get(\r\n      `http://api.github.com/users/${username}/repos?per_page=5&sort=created:asc&client_id=${process.env.REACT_APP_GITHUB_CLIENT_ID}&client_secret=${process.env.REACT_APP_GITHUB_CLIENT_SECRET}`\r\n    );\r\n\r\n    dispatch({\r\n      type: GET_REPOS,\r\n      payload: res.data,\r\n    });\r\n  };\r\n\r\n  // Clear Users\r\n  const clearUsers = () => dispatch({ type: CLEAR_USERS });\r\n\r\n  // Set Loading\r\n  const setLoading = () => dispatch({ type: SET_LOADING });\r\n  return (\r\n    <GithubContext.Provider\r\n      value={{\r\n        users: state.users,\r\n        user: state.user,\r\n        repos: state.repos,\r\n        loading: state.loading,\r\n        searchUsers,\r\n        clearUsers,\r\n        getUser,\r\n        getUserRepos,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </GithubContext.Provider>\r\n  );\r\n};\r\n\r\nexport default GithubState;\r\n"]},"metadata":{},"sourceType":"module"}